"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8465],{8465:(A,u,a)=>{a.r(u),a.d(u,{ProfilePageModule:()=>x});var m=a(6895),d=a(433),n=a(5035),g=a(6881),f=a(655),c=a(6388),e=a(4650),h=a(4385),P=a(2468),M=a(5083);function C(t,s){if(1&t&&e._UZ(0,"img",22),2&t){const o=e.oxw();e.Q6J("src",o.profile.imageUrl,e.LSH)}}function v(t,s){1&t&&(e.TgZ(0,"div",23)(1,"p"),e._uU(2,"Select avatar"),e.qZA()())}const _=[{path:"",component:(()=>{class t{constructor(o,i,l,r,O,T,y,b){this.router=o,this.route=i,this.fireauthService=l,this.dataService=r,this.avatarService=O,this.loadingController=T,this.alertController=y,this.toastController=b,this.user=[],this.name="",this.age="",this.sex="",this.email="",this.profile=[],this.avatarService.getUserProfile().subscribe(p=>{this.profile=p}),this.uid=sessionStorage.getItem("user_id"),this.dataService.getUserInfo(this.uid).subscribe(p=>{this.user=p,this.name=this.user[0].name,this.age=this.user[0].age,this.sex=this.user[0].sex,this.email=this.user[0].email})}changeImage(){return(0,f.mG)(this,void 0,void 0,function*(){const o=yield c.V1.getPhoto({quality:90,allowEditing:!1,resultType:c.dk.Base64,source:c.oK.Camera});if(o){const i=yield this.loadingController.create();yield i.present();const l=yield this.avatarService.uploadImage(o);i.dismiss(),l||(yield(yield this.alertController.create({header:"Upload failed",message:"There was a problem uploading your avatar.",buttons:["OK"]})).present())}})}presentToast(o){return(0,f.mG)(this,void 0,void 0,function*(){yield(yield this.toastController.create({message:o,duration:3e3,cssClass:"custom-toast",position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]})).present()})}update(){this.dataService.updateProfile(this.user[0].id,this.name,this.age,this.sex,this.email),this.presentToast("Information Successfully Changed")}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(h.X),e.Y36(P.D),e.Y36(M.o),e.Y36(n.HT),e.Y36(n.Br),e.Y36(n.yF))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile"]],decls:51,vars:7,consts:[[3,"translucent"],["color","primary"],["slot","start"],[1,"ion-padding"],[1,"top"],[1,"preview"],[3,"click"],["name","lock-closed","slot","start"],[3,"src",4,"ngIf","ngIfElse"],["placeholder_avatar",""],[1,"subtitle"],[1,"line"],[1,"title"],["position","floating"],[3,"ngModel","ngModelChange"],["placeholder","Select Gender",3,"ngModel","ngModelChange"],["value","male"],["value","female"],["value","others"],["expand","block","shape","round",3,"click"],["disabled","true",3,"ngModel","ngModelChange"],["disabled","true","value","ampol123","type","password"],[3,"src"],[1,"fallback"]],template:function(o,i){if(1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Profile"),e.qZA()()(),e.TgZ(6,"ion-content",3)(7,"div",4)(8,"div",5)(9,"ion-avatar",6),e.NdJ("click",function(){return i.changeImage()}),e._UZ(10,"ion-icon",7),e.YNc(11,C,1,1,"img",8),e.YNc(12,v,3,0,"ng-template",null,9,e.W1O),e.qZA()(),e.TgZ(14,"div",10),e._UZ(15,"div",11),e.TgZ(16,"p",12),e._uU(17,"Personal Account Information"),e.qZA(),e._UZ(18,"div",11),e.TgZ(19,"div")(20,"ion-item")(21,"ion-label",13),e._uU(22,"Name: "),e.qZA(),e.TgZ(23,"ion-input",14),e.NdJ("ngModelChange",function(r){return i.name=r}),e.qZA()(),e.TgZ(24,"ion-item")(25,"ion-label",13),e._uU(26,"Age: "),e.qZA(),e.TgZ(27,"ion-input",14),e.NdJ("ngModelChange",function(r){return i.age=r}),e.qZA()(),e.TgZ(28,"ion-item")(29,"ion-select",15),e.NdJ("ngModelChange",function(r){return i.sex=r}),e.TgZ(30,"ion-select-option",16),e._uU(31,"Male"),e.qZA(),e.TgZ(32,"ion-select-option",17),e._uU(33,"Female"),e.qZA(),e.TgZ(34,"ion-select-option",18),e._uU(35,"Others"),e.qZA()()()(),e.TgZ(36,"ion-button",19),e.NdJ("click",function(){return i.update()}),e._uU(37,"SAVE CHANGES"),e.qZA()(),e.TgZ(38,"div",10),e._UZ(39,"div",11),e.TgZ(40,"p",12),e._uU(41,"Account Information"),e.qZA(),e._UZ(42,"div",11),e.TgZ(43,"ion-item")(44,"ion-label",13),e._uU(45,"Username"),e.qZA(),e.TgZ(46,"ion-input",20),e.NdJ("ngModelChange",function(r){return i.email=r}),e.qZA()(),e.TgZ(47,"ion-item")(48,"ion-label",13),e._uU(49,"Password"),e.qZA(),e._UZ(50,"ion-input",21),e.qZA()()()()),2&o){const l=e.MAs(13);e.Q6J("translucent",!0),e.xp6(11),e.Q6J("ngIf",i.profile.imageUrl)("ngIfElse",l),e.xp6(12),e.Q6J("ngModel",i.name),e.xp6(4),e.Q6J("ngModel",i.age),e.xp6(2),e.Q6J("ngModel",i.sex),e.xp6(17),e.Q6J("ngModel",i.email)}},dependencies:[m.O5,d.JJ,d.On,n.BJ,n.YG,n.Sm,n.W2,n.Gu,n.gu,n.pK,n.Ie,n.Q$,n.fG,n.t9,n.n0,n.wd,n.sr,n.QI,n.j9],styles:["ion-title[_ngcontent-%COMP%]{font-family:Montserrat}ion-content[_ngcontent-%COMP%]{--background: #F4F4FA}ion-avatar[_ngcontent-%COMP%]{width:128px;height:128px}.preview[_ngcontent-%COMP%]{margin-top:50px;display:flex;justify-content:center}.fallback[_ngcontent-%COMP%]{width:128px;height:128px;border-radius:50%;box-shadow:2px 1px 2px 2px #4e0d81;display:flex;justify-content:center;align-items:center;font-weight:500}.top[_ngcontent-%COMP%]{background-color:#cceede;box-shadow:2px 1px 2px 2px #4e0d81;padding:10px;border-radius:20px}.top[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:5px;color:#4e0d81;font-family:Product sans;padding-bottom:20px;padding-top:10px}.top[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#5d5d5d;margin:10px;border-radius:15px;padding-bottom:10px}.top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:10px;padding-top:5px;font-size:15px;font-weight:700;font-family:Montserrat}.top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{align-items:center;padding-top:5px;font-size:15px;font-family:Montserrat}.top[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:1px;background-color:var(--ion-color-primary)}.top[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-top:10px;border-radius:20px}.top[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-family:Product sans}.top[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .top[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{font-size:20 px;--padding-top: 20px;--padding-bottom: 15px;--padding-start: 5px;font-family:Product sans}.top[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:25px}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.Bz.forChild(_),g.Bz]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,d.u5,n.Pc,Z]}),t})()}}]);